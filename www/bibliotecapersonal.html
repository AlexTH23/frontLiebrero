<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca Personal - Liebrero</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Variables CSS basadas en tu estructura original */
        :root {
            --bg-primary: #f5f1e8;
            --bg-secondary: #ffffff;
            --bg-tertiary: #e8e1d5;
            --text-primary: #3a2c1e;
            --text-secondary: #7d5d48;
            --border-color: #d7ccc8;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --accent-color: #8B0000;
            --accent-hover: #A52A2A;
            --navbar-color: #8B4513;
            --light-gray: #f0f0f0;
            --dark-gray: #e0e0e0;
            --white: #ffffff;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .dark-mode {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-tertiary: #333333;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --border-color: #444444;
            --shadow-color: rgba(0, 0, 0, 0.5);
            --light-gray: #333333;
            --dark-gray: #2a2a2a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: var(--font-family);
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
            transition: background-color 0.3s ease;
        }

        /* Navbar Superior */
        .top-navbar {
            background-color: var(--navbar-color);
            color: #ffffff;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px var(--shadow-color);
        }

        .top-navbar .back-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .top-navbar .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .top-navbar .title {
            font-size: 1.1rem;
            font-weight: bold;
            text-align: center;
            flex: 1;
        }

        .top-navbar .search-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .top-navbar .search-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Buscador */
        .search-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            background: var(--navbar-color);
            padding: 15px;
            z-index: 200;
            display: none;
            box-shadow: 0 2px 10px var(--shadow-color);
        }

        .search-box {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 25px;
            padding: 8px 15px;
        }

        .search-box i {
            color: var(--navbar-color);
        }

        .search-box input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 1rem;
            padding: 5px 10px;
            background: transparent;
        }

        .search-box .close-btn {
            background: none;
            border: none;
            color: var(--navbar-color);
            font-size: 1.2rem;
            cursor: pointer;
            margin-left: 10px;
        }

        /* Contenido Principal */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px 15px 90px;
            transition: all 0.3s ease;
        }

        .library-view {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* Filtros */
        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .filter-btn {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 8px 15px;
            font-size: 0.85rem;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px var(--shadow-color);
        }

        .filter-btn.active {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        /* Lista de Libros */
        .book-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
        }

        .book-item {
            background: var(--bg-secondary);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 6px var(--shadow-color);
            cursor: pointer;
            transition: all 0.3s ease;
            height: 210px;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .book-cover {
            flex: 1;
            background: linear-gradient(135deg, #d7ccc8, #bcaaa4);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .dark-mode .book-cover {
            background: linear-gradient(135deg, #444, #333);
        }

        .book-cover span {
            font-weight: bold;
            font-size: 1.8rem;
            color: var(--text-primary);
        }

        .dark-mode .book-cover span {
            color: var(--text-primary);
        }

        .book-title {
            padding: 12px 8px;
            font-size: 0.85rem;
            text-align: center;
            background: var(--bg-secondary);
            font-weight: 600;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.3;
        }

        /* Vista de Detalle de Libro */
        .book-detail {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-primary);
            z-index: 300;
            padding: 20px;
            overflow-y: auto;
            transform: translateY(100%);
            transition: transform 0.4s ease;
            display: flex;
            flex-direction: column;
        }

        .book-detail.active {
            transform: translateY(0);
        }

        #detailBackBtn {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 10;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
        }

        .book-header {
            display: flex;
            margin-bottom: 25px;
            flex-direction: column;
            align-items: center;
        }

        .book-cover-large {
            width: 140px;
            height: 200px;
            background: linear-gradient(135deg, #d7ccc8, #bcaaa4);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px var(--shadow-color);
            margin-bottom: 20px;
        }

        .dark-mode .book-cover-large {
            background: linear-gradient(135deg, #444, #333);
        }

        .book-cover-large span {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--text-primary);
        }

        .book-info-detail {
            width: 100%;
        }

        .book-title-large {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--text-primary);
            text-align: center;
        }

        .book-author-large {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
            text-align: center;
            font-weight: 500;
        }

        .book-meta-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 25px;
        }

        .meta-item {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 12px;
        }

        .meta-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .meta-value {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .book-description {
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--text-primary);
            margin-bottom: 25px;
            padding: 15px;
            background: var(--bg-tertiary);
            border-radius: 8px;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .action-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .read-btn {
            background: var(--accent-color);
            color: white;
            border: none;
        }

        .read-btn:hover {
            background: var(--accent-hover);
        }

        .favorite-btn {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .favorite-btn:hover {
            background: var(--bg-tertiary);
        }

        /* Navbar Inferior */
        .bottom-navbar {
            background-color: var(--navbar-color);
            color: white;
            padding: 10px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 100;
            box-shadow: 0 -2px 10px var(--shadow-color);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
            padding: 5px 10px;
            border-radius: 10px;
            flex: 1;
            max-width: 70px;
        }

        .nav-item.active {
            background: rgba(255, 255, 255, 0.2);
        }

        .nav-item i {
            font-size: 1.4rem;
            margin-bottom: 5px;
        }

        .nav-item span {
            font-size: 0.7rem;
        }

        .user-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-color), var(--accent-hover));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* Estilos para móviles */
        @media (max-width: 480px) {
            .main-content {
                padding: 15px 10px 80px;
            }
            
            .book-list {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 12px;
            }
            
            .book-item {
                height: 190px;
            }
            
            .filters {
                gap: 8px;
            }
            
            .filter-btn {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
            
            .book-cover-large {
                width: 120px;
                height: 180px;
            }
            
            .book-meta-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .action-btn {
                width: 100%;
                justify-content: center;
            }
            
            .nav-item {
                max-width: 60px;
                padding: 5px 8px;
            }
            
            .nav-item i {
                font-size: 1.2rem;
            }
            
            .nav-item span {
                font-size: 0.65rem;
            }
        }

        /* Modo Oscuro */
        .dark-mode .book-description,
        .dark-mode .meta-item,
        .dark-mode .book-title,
        .dark-mode .book-item {
            background-color: var(--bg-secondary);
        }

        .dark-mode .favorite-btn {
            background-color: var(--bg-tertiary);
            border-color: var(--border-color);
        }
    </style>
</head>
<body>
    <!-- Navbar Superior -->
    <div class="top-navbar">
        <button class="back-btn" id="backBtn"><i class="fas fa-arrow-left"></i></button>
        <div class="title">MI BIBLIOTECA</div>
        <button class="search-btn" id="searchBtn"><i class="fas fa-search"></i></button>
    </div>
    
    <!-- Buscador -->
    <div class="search-container" id="searchContainer">
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Buscar en tu biblioteca...">
            <button class="close-btn" id="closeSearch"><i class="fas fa-times"></i></button>
        </div>
    </div>
    
    <!-- Contenido Principal - Vista de Biblioteca Personal -->
    <div class="main-content" id="mainContent">
        <div class="library-view" id="libraryView">
            <!-- Filtros -->
            <div class="filters">
                <button class="filter-btn active" data-filter="all">Todos</button>
                <button class="filter-btn" data-filter="reading">Leyendo</button>
                <button class="filter-btn" data-filter="finished">Terminados</button>
                <button class="filter-btn" data-filter="favorites">Favoritos</button>
                <button class="filter-btn" data-filter="wishlist">Por leer</button>
                <button class="filter-btn" data-filter="fantasia">Fantasía</button>
            </div>
            
            <!-- Libros -->
            <div class="book-list" id="bookList">
                <!-- Libro 1 -->
                <div class="book-item" data-book="hp">
                    <div class="book-cover">
                        <span>HP</span>
                    </div>
                    <div class="book-title">Harry Potter y la piedra filosofal</div>
                </div>
                
                <!-- Libro 2 -->
                <div class="book-item" data-book="salem">
                    <div class="book-cover">
                        <span>SJ</span>
                    </div>
                    <div class="book-title">LOS JUICIOS DE SALEM</div>
                </div>
                
                <!-- Libro 3 -->
                <div class="book-item" data-book="bosque">
                    <div class="book-cover">
                        <span>BM</span>
                    </div>
                    <div class="book-title">El Bosque Mágico</div>
                </div>
                
                <!-- Libro 4 -->
                <div class="book-item" data-book="cien">
                    <div class="book-cover">
                        <span>CA</span>
                    </div>
                    <div class="book-title">Cien años de soledad</div>
                </div>
                
                <!-- Libro 5 -->
                <div class="book-item" data-book="quijote">
                    <div class="book-cover">
                        <span>DQ</span>
                    </div>
                    <div class="book-title">Don Quijote de la Mancha</div>
                </div>
                
                <!-- Libro 6 -->
                <div class="book-item" data-book="hobbit">
                    <div class="book-cover">
                        <span>TH</span>
                    </div>
                    <div class="book-title">El Hobbit</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Vista de Detalle de Libro -->
    <div class="book-detail" id="bookDetail">
        <button class="back-btn" id="detailBackBtn"><i class="fas fa-arrow-left"></i></button>
        <div class="book-header">
            <div class="book-cover-large" id="detailCover">
                <span class="initial" id="detailInitial">HP</span>
            </div>
            <div class="book-info-detail">
                <h1 class="book-title-large" id="detailTitle">Harry Potter y la piedra filosofal</h1>
                <div class="book-author-large" id="detailAuthor">J.K. Rowling</div>
                
                <div class="book-meta-grid">
                    <div class="meta-item">
                        <div class="meta-label">Género</div>
                        <div class="meta-value" id="detailGenre">Fantasía</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">Idioma</div>
                        <div class="meta-value" id="detailLanguage">Español</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">Año</div>
                        <div class="meta-value" id="detailYear">1997</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">Estado</div>
                        <div class="meta-value" id="detailStatus">Leyendo</div>
                    </div>
                </div>
                
                <div class="book-description" id="detailDescription">
                    Harry Potter y la piedra filosofal es el primer libro de la serie literaria Harry Potter, escrito por la autora británica J.K. Rowling. Sigue la historia de Harry Potter, un niño que descubre en su undécimo cumpleaños que es un mago. Harry es invitado a asistir al Colegio Hogwarts de Magia y Hechicería, donde comienza a entrenar como mago.
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn read-btn" id="readBtn">
                        <i class="fas fa-book-open"></i> Leer
                    </button>
                    <button class="action-btn favorite-btn" id="favoriteBtn">
                        <i class="fas fa-star"></i> Favorito
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Navbar Inferior CONFIGURACIÓN -->
    <div class="bottom-navbar">
        <div class="nav-item" id="navHome" onclick="location.href='inicio.html'">
            <i class="fas fa-home"></i>
            <span>Inicio</span>
        </div>
        <div class="nav-item" id="navSearch" onclick="document.getElementById('searchBtn').click()">
            <i class="fas fa-search"></i>
            <span>Buscar</span>
        </div>
        <div class="nav-item" id="navCreate" onclick="location.href='publicarlibro.html'">
            <i class="fas fa-plus-circle"></i>
            <span>Crear</span>
        </div>
        <div class="nav-item" id="navProfile" onclick="location.href='cuenta.html'">
            <div class="user-icon">U</div>
            <span>Perfil</span>
        </div>
        <div class="nav-item" id="navConfig" onclick="location.href='configuracion.html'">
            <i class="fas fa-cog"></i>
            <span>Config</span>
        </div>
    </div>

    <script>
        // Script para manejar el modo oscuro
        document.addEventListener('DOMContentLoaded', function() {
            const isDarkMode = localStorage.getItem('darkMode') === 'true';
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
            }
        });

        // Elementos DOM
        const searchBtn = document.getElementById('searchBtn');
        const closeSearch = document.getElementById('closeSearch');
        const searchContainer = document.getElementById('searchContainer');
        const bookDetail = document.getElementById('bookDetail');
        const detailBackBtn = document.getElementById('detailBackBtn');
        const backBtn = document.getElementById('backBtn');
        const bookItems = document.querySelectorAll('.book-item');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const favoriteBtn = document.getElementById('favoriteBtn');

        // Mostrar buscador
        function showSearch() {
            searchContainer.style.display = 'block';
            document.getElementById('mainContent').style.opacity = '0.3';
            document.getElementById('mainContent').style.pointerEvents = 'none';
        }

        // Ocultar buscador
        function hideSearch() {
            searchContainer.style.display = 'none';
            document.getElementById('mainContent').style.opacity = '1';
            document.getElementById('mainContent').style.pointerEvents = 'all';
        }

        // Mostrar detalle de libro
        function showBookDetail(bookId) {
            bookDetail.classList.add('active');
            document.getElementById('mainContent').style.opacity = '0.3';
            document.getElementById('mainContent').style.pointerEvents = 'none';
        }

        // Ocultar detalle de libro
        function hideBookDetail() {
            bookDetail.classList.remove('active');
            document.getElementById('mainContent').style.opacity = '1';
            document.getElementById('mainContent').style.pointerEvents = 'all';
        }

        // Event Listeners
        searchBtn.addEventListener('click', showSearch);
        closeSearch.addEventListener('click', hideSearch);
        detailBackBtn.addEventListener('click', hideBookDetail);
        backBtn.addEventListener('click', function() {
            if (bookDetail.classList.contains('active')) {
                hideBookDetail();
            } else if (searchContainer.style.display === 'block') {
                hideSearch();
            }
        });

        // Eventos para libros
        bookItems.forEach(item => {
            item.addEventListener('click', function() {
                const bookId = this.getAttribute('data-book');
                showBookDetail(bookId);
            });
        });

        // Eventos para filtros
        filterBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                filterBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Evento para favorito
        favoriteBtn.addEventListener('click', function() {
            this.classList.toggle('active');
            if (this.classList.contains('active')) {
                this.innerHTML = '<i class="fas fa-star"></i> Favorito';
            } else {
                this.innerHTML = '<i class="far fa-star"></i> Favorito';
            }
        });
    </script>
</body>
</html>